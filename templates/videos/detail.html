{% extends "videos/base.html" %}
{% load thumbnail %}

{% block title %}Video: {{ video.title }} | {{ block.super }}{% endblock %}
{% block extra_xmlns %}xmlns:og="http://ogp.me/ns#"{% endblock %}

{% block meta_tags %}
    {% thumbnail video.photo 200x110 crop as im %}
    <meta property="og:title" content="{{ video.title }}" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="{{ current_site }}{{ video.get_absolute_url }}" />
    {% if im %}
        <meta property="og:image" content="{{ im.url }}" />
    {% else %}
        <meta property="og:image" content="{{ STATIC_URL }}images/default_video.png" />
    {% endif %}
    <meta name="keywords" content="" />
    <meta name="description" content="{{ video.description }}" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
{% endblock %}
{% load addthis_tags %}

{% block extra_css %}
    {{ block.super }}
    <link href="{{ STATIC_URL }}css/tabs.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
        #tabsF {
            width: 560px;
            height: 40px;
            background: none;
            float: none;
        }
        #tabsF ul {
            padding-left: 10px;
        }
        #tabsF a {
            border-bottom: none;
        }
    </style>
{% endblock %}

{% block extra_js %}
    {{ block.super }}
    {% addthis_header %}
{% endblock %}

{% block breadcrumb %}
    <div id="breadcrumb">
        <ul>
            <li><a href="{% url home_view %}">Home</a></li>
            <li><a href="{% url videos_index %}">Videos</a></li>
            <li>{{ video.title }}</li>
        </ul>
    </div>
{% endblock %}

{% block content_header_title %}{{ video.title }}{% endblock %}
{% block main_content %}
    {% if perms.videos.can_add_video %}
    <div id="edit_link">
        <div id="tabsF">
            <ul>
                <li><a href="{{ video.edit_link }}"><span>Edit</span></a></li>
            </ul>
        </div>
    </div>
    {% endif %}
    <div class="entry">
        <div id="video_detail">
            {{ video.embed_code }}
            <div id="video_info">
                <p class="posted_by">Posted by: tanickl</p>
                <p class="pub_date">Date: {{ video.pub_date|date:"N d, Y" }}</p>
                <p class="origin">Origin URL: <br/><input type="text" value="{{ video.video_url }}" /></p>
                <a href="#" id="description_link">Show Description</a>
                <div id="description" class="show">
                    <p>{{ video.description|safe }}</p>
                </div>
            </div>
            {% addthis_share %}
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready (function () {
            var block = $("div#video_info #description");
            // Hide description div and show description_link
            $("div#video_info a#description_link").show ();
            block.removeClass ("show");

            // Set onclick function
            $("div#video_info a#description_link").click (function (e) {
                e.preventDefault();
                var block = $("div#video_info #description");
                if (!block.hasClass ("show")) {
                    // Display will become shown.
                    $(this).text ("Hide Description");
                }
                else {
                    // Display will become hidden.
                    $(this).text ("Show Description");
                }
                block.toggleClass ("show");
            });
        });
    </script>
{% endblock main_content %}

